<html lang="en">

<head>
	<title>CS:GO Mapvote</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<script src="js/essential.js"></script>
	<script type="text/javascript">
		function joinLobby() {
			const input = document.getElementById('lobby-input');
			const { value } = input;
			if (value && value.length === 6) {
				window.location = '/lobby.html?lobbyId=' + value;
			} else {
				document.getElementById('join-lobby').blur();
				input.reportValidity && input.reportValidity();
				input.focus();
			}
		}

		(() => {
			const KEY_CODE_RETURN = 13;
			window.addEventListener('load', () => {
				const input = document.getElementById('lobby-input');
				input.addEventListener('keyup', event => {
					if (input.value && event.keyCode === KEY_CODE_RETURN) {
						event.preventDefault();
						joinLobby();
					}
				});
			});
		})();
	</script>
	<link rel="icon" type="image/svg+xml" href="img/favicon.svg" sizes="any">
</head>

<body>
	<main>
		<div class="box-styling" id="box-wrapper">
			<div class="box-header">
				<h1>Create Lobby</h1>
			</div>
			<div class="box">
				<a href="/lobby.html" class="menu-button button button-green">Create lobby</a>
			</div>
		</div>
		<div class="box-styling" id="box-wrapper">
			<div class="box-header">
				<h1>Join Lobby</h1>
			</div>
			<div class="box box-lobby">
				<input type="text" name="lobbyid" id="lobby-input" minlength="6" maxlength="6" autofocus />
				<div class="menu-button button button-green" id="join-lobby" onclick="joinLobby();">Join lobby</div>
			</div>
		</div>
		<div class="github-icon">
			<a href="https://github.com/error401de/csgo-mapvote" target="_blank" border="0">
				<img src="img/github.png" />
			</a>
		</div>
</body>
